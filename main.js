!function(){"use strict";class e{constructor(e,t){this._form=t,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass}_setEventListeners(){this._inputElements=[...this._form.querySelectorAll(this._inputSelector)],this.submitBtn=this._form.querySelector(this._submitButtonSelector),this._inputElements.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}_showInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.add(this._errorClass),t.textContent=e.validationMessage}_hideInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.remove(this._errorClass),e.classList.remove(this._inputErrorClass),t.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_isFormValid(){return this._inputElements.every((e=>e.validity.valid))}_toggleButtonState(){this._isFormValid()?(this.submitBtn.classList.remove(this._inactiveButtonClass),this.submitBtn.disabled=!1):(this.submitBtn.classList.add(this._inactiveButtonClass),this.submitBtn.disabled=!0)}enableValidation(){this._setEventListeners()}resetValidation(){this._toggleButtonState(),this._inputElements.forEach((e=>{this._hideInputError(e)}))}}class t{constructor(e,t,s,i,r){let{name:n,link:a,_id:o,isLiked:l}=e;this.name=n,this.link=a,this._id=o,this.isLiked=l,this._cardTemplate=t,this._handleImageClick=s,this._handleDeleteClick=i,this._handleAddLike=r}_setEventListeners(){this._likeBtn.addEventListener("click",(()=>{this._handleAddLike(this)})),this._cardElement.querySelector("#trash-button").addEventListener("click",(()=>{this._handleDeleteClick(this)})),this._cardImageEl.addEventListener("click",(()=>{this._handleImageClick({name:this.name,link:this.link})}))}handleLikeIcon(e){this.isLiked=e,this._renderLikes()}_renderLikes(){this.isLiked?this._likeBtn.classList.add("card__like-button_active"):this._likeBtn.classList.remove("card__like-button_active")}handleDeleteCard(){this._cardElement.remove(),this._cardElement=null}getView(){return this._cardElement=document.querySelector(this._cardTemplate).content.querySelector(".card").cloneNode(!0),this._likeBtn=this._cardElement.querySelector(".card__like-button"),this._cardImageEl=this._cardElement.querySelector(".card__image"),this._cardTitleEl=this._cardElement.querySelector(".card__description-text"),this._cardTitleEl.textContent=this.name,this._cardImageEl.src=this.link,this._cardImageEl.alt=this.name+"Photo",this._setEventListeners(),this._renderLikes(),this._cardElement}}class s{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){document.removeEventListener("keydown",this._handleEscClose),this._popupElement.classList.remove("modal_opened")}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popupElement.querySelector(".modal__close-button").addEventListener("click",(()=>{this.close()})),this._popupElement.addEventListener("click",(e=>{e.target.classList.contains("modal_opened")&&this.close()}))}}class i extends s{constructor(e,t){super({popupSelector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._submitBtn=this._popupElement.querySelector(".modal__save-button"),this._handleFormSubmit=t}close(){this._popupForm.reset(),super.close()}_getInputValues(){const e=this._popupForm.querySelectorAll(".modal__form-input"),t={};return e.forEach((e=>t[e.name]=e.value)),t}setLoading(e){this._submitBtn.textContent=e?"Saving ...":"Save"}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues()),this.close()}))}}const r={formSelector:".modal__form",inputSelector:".modal__form-input",submitButtonSelector:".modal__save-button",inactiveButtonClass:"modal__save-button_disabled",inputErrorClass:"modal__error",errorClass:"modal__form-input_type_error"},n=document.querySelector("#profile-title-input"),a=document.querySelector("#profile-subtitle-input"),o=document.forms["modal-form"],l=document.querySelector("#image-edit-form"),c=document.querySelector("#profile-avatar-image"),d=document.querySelector("#image-edit-form"),h=document.querySelector("#profile-pencil"),u=document.querySelector("#add-card-modal").querySelector("#add-card-form"),_=document.querySelector(".cards__list"),m=document.querySelector("#preview-modal").querySelector(".modal__image"),p=document.querySelector("#profile-edit-button"),v=document.querySelector("#add-card-button"),E=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}_checkResponce(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{method:"GET",headers:this._headers}).then((e=>this._checkResponce(e)))}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{method:"GET",headers:this._headers}).then((e=>this._checkResponce(e)))}updateUserInfo(e){let{name:t,description:s}=e;return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:s})}).then((e=>this._checkResponce(e)))}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then((e=>this._checkResponce(e)))}addCard(e){let{name:t,link:s}=e;return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:s})}).then((e=>this._checkResponce(e)))}setLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then((e=>this._checkResponce(e)))}removeLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then((e=>this._checkResponce(e)))}changeAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((e=>this._checkResponce(e)))}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"250daeea-0b63-48f9-a4b3-e529116433c4","Content-Type":"application/json"}});function k(e){return e.isLiked?E.removeLike(e._id).then((t=>{e.handleLikeIcon(t.isLiked)})).catch((e=>{alert(`${e} Failed to add/remove like.`)})):E.setLike(e._id).then((t=>{e.handleLikeIcon(t.isLiked)})).catch((e=>{alert(`${e} Failed to add/remove like.`)}))}function L(e){C.open(e)}function f(e){I.open(),I.setSubmitAction((()=>{E.deleteCard(e._id).then((t=>{e.handleDeleteCard(t)})).catch((e=>{alert(`${e} Failed to delete post.`)}))}))}E.getInitialCards().then((e=>{U.setItems(e),U.renderItems()})).catch((e=>{alert(`${e} Failed to get cards.`)})),E.getUserInfo().then((e=>{g.setUserInfo({name:e.name,description:e.about}),g.setUserAvatar(e.avatar)})).catch((e=>{alert(`${e} Failed to get user info.`)})),c.addEventListener("click",(()=>{q.open()})),h.addEventListener("click",(()=>{q.open()})),v.addEventListener("click",(()=>{b.resetValidation(),y.open()})),p.addEventListener("click",(()=>{const{name:e,description:t}=g.getUserInfo();n.value=e,a.value=t,S.open()})),m.addEventListener("click",(()=>{C.open()})),new e(r,l).enableValidation();const b=new e(r,u);b.enableValidation(),new e(r,o).enableValidation();const S=new i("#profile-edit-modal",(function(e){S.setLoading(!0),E.updateUserInfo(e).then((t=>{g.setUserInfo(e),S.setLoading(!1)})).catch((e=>{alert(`${e} Failed to change user info.`)}))}));S.setEventListeners();const g=new class{constructor(e){let{title:t,subtitle:s,avatar:i}=e;this._title=document.querySelector(t),this._subtitle=document.querySelector(s),this._avatar=document.querySelector(i)}getUserInfo(){return{name:this._title.textContent,description:this._subtitle.textContent}}setUserInfo(e){let{name:t,description:s}=e;this._title.textContent=t,this._subtitle.textContent=s}setUserAvatar(e){this._avatar.src=e}}({title:".profile__title",subtitle:".profile__subtitle",avatar:".profile__image"}),y=new i("#add-card-modal",(function(e){let{title:t,subtitle:s}=e;y.setLoading(!0),E.addCard({name:t,link:s}).then((e=>{U.addItem({name:t,link:s}),y.setLoading(!1),y.close()})).catch((e=>{alert(`${e} Failed to add card.`)}))}));y.setEventListeners();const C=new class extends s{constructor(e){super({popupSelector:e}),this._modalImage=document.querySelector(".modal__image"),this._previewCaption=document.querySelector(".modal__caption")}open(e){let{name:t,link:s}=e;this._modalImage.src=s,this._modalImage.alt=t,this._previewCaption.textContent=t,super.open()}}("#preview-modal");C.setEventListeners();const I=new class extends s{constructor(e){super({popupSelector:e}),this._imageEditForm=this._popupElement.querySelector(".modal__form")}setSubmitAction(e){this._handleSubmit=e}setEventListeners(){super.setEventListeners(),this._imageEditForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmit(),this.close()}))}}("#delete-popup");I.setEventListeners();const q=new i("#profile-image-modal",(function(e){q.setLoading(!0),E.changeAvatar(e.link).then((e=>{g.setUserAvatar(e.avatar),q.setLoading(!1)})).catch((e=>{alert(`${e} Failed to change avatar.`)}))}));q.setEventListeners(),new e(r,d).enableValidation();const U=new class{constructor(e,t){let{items:s,renderer:i}=e;this._items=s,this._renderer=i,this._container=t}setItems(e){this._items=e}renderItems(){this._items.forEach((e=>{this.addItem(e)}))}addItem(e){const t=this._renderer(e);this._container.prepend(t)}}({items:[],renderer:function(e){return new t(e,"#card-template",L,f,k).getView()}},_)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMtbWFpbi8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy1tYWluLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy1tYWluLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLW1haW4vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy1tYWluLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMtbWFpbi8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMtbWFpbi8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMtbWFpbi8uL3NyYy9jb21wb25lbnRzL1BvcHVwQ29uZmlybS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLW1haW4vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybSkge1xyXG4gICAgdGhpcy5fZm9ybSA9IGZvcm07XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gY29uZmlnLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gY29uZmlnLmVycm9yQ2xhc3M7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzID0gWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKV07XHJcbiAgICB0aGlzLnN1Ym1pdEJ0biA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9pc0Zvcm1WYWxpZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dEVsZW1lbnRzLmV2ZXJ5KChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuIGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKCF0aGlzLl9pc0Zvcm1WYWxpZCgpKSB7XHJcbiAgICAgIHRoaXMuc3VibWl0QnRuLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuc3VibWl0QnRuLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc3VibWl0QnRuLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuc3VibWl0QnRuLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgLy8gdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAvLyAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIC8vIH0pO1xyXG5cclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG5cclxuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICB7IG5hbWUsIGxpbmssIF9pZCwgaXNMaWtlZCB9LFxyXG4gICAgY2FyZFRlbXBsYXRlLFxyXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcclxuICAgIGhhbmRsZURlbGV0ZUNsaWNrLFxyXG4gICAgaGFuZGxlQWRkTGlrZVxyXG4gICkge1xyXG4gICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgIHRoaXMubGluayA9IGxpbms7XHJcbiAgICB0aGlzLl9pZCA9IF9pZDtcclxuICAgIHRoaXMuaXNMaWtlZCA9IGlzTGlrZWQ7XHJcbiAgICB0aGlzLl9jYXJkVGVtcGxhdGUgPSBjYXJkVGVtcGxhdGU7XHJcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVBZGRMaWtlID0gaGFuZGxlQWRkTGlrZTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2xpa2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQWRkTGlrZSh0aGlzKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiI3RyYXNoLWJ1dHRvblwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayh0aGlzKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh7IG5hbWU6IHRoaXMubmFtZSwgbGluazogdGhpcy5saW5rIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVMaWtlSWNvbihpc0xpa2VkKSB7XHJcbiAgICB0aGlzLmlzTGlrZWQgPSBpc0xpa2VkO1xyXG4gICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcclxuICB9XHJcblxyXG4gIF9yZW5kZXJMaWtlcygpIHtcclxuICAgIGlmICh0aGlzLmlzTGlrZWQpIHtcclxuICAgICAgdGhpcy5fbGlrZUJ0bi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fbGlrZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlRGVsZXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgZ2V0VmlldygpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFRlbXBsYXRlKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICB0aGlzLl9saWtlQnRuID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZUVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2NhcmRUaXRsZUVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIuY2FyZF9fZGVzY3JpcHRpb24tdGV4dFwiXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuX2NhcmRUaXRsZUVsLnRleHRDb250ZW50ID0gdGhpcy5uYW1lO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwuc3JjID0gdGhpcy5saW5rO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwuYWx0ID0gdGhpcy5uYW1lICsgXCJQaG90b1wiO1xyXG5cclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9yZW5kZXJMaWtlcygpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciB9KSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gIH1cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGUpID0+IHtcclxuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ1dHRvblwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX29wZW5lZFwiKSkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG4gICAgdGhpcy5fc3VibWl0QnRuID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3NhdmUtYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGlucHV0cyA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19mb3JtLWlucHV0XCIpO1xyXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gKGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWUpKTtcclxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcclxuICB9XHJcblxyXG4gIC8vIE1heWJlIHRoaXMgd29ya3M/Pz9cclxuICBzZXRMb2FkaW5nKGxvYWRpbmcpIHtcclxuICAgIGlmIChsb2FkaW5nKSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IFwiU2F2aW5nIC4uLlwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnRuLnRleHRDb250ZW50ID0gXCJTYXZlXCI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cENvbmZpcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBDb25maXJtLmpzXCI7XHJcbmltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xyXG5cclxuLy8gVkFSSUFCTEVTXHJcblxyXG5jb25zdCBjb25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtLWlucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19zYXZlLWJ1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX3NhdmUtYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Zvcm0taW5wdXRfdHlwZV9lcnJvclwiLFxyXG59O1xyXG5cclxuLy8gUHJvZmlsZSBWYXJpYWJsZXNcclxuXHJcbmNvbnN0IHByb2ZpbGVUaXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXRpdGxlLWlucHV0XCIpO1xyXG5jb25zdCBwcm9maWxlU3VidGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1zdWJ0aXRsZS1pbnB1dFwiKTtcclxuY29uc3QgcHJvZmlsZUZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcIm1vZGFsLWZvcm1cIl07XHJcbmNvbnN0IGVkaXRJbWFnZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ltYWdlLWVkaXQtZm9ybVwiKTtcclxuY29uc3QgYXZhdGFySW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtYXZhdGFyLWltYWdlXCIpO1xyXG5jb25zdCBwcm9maWxlRWRpdEltYWdlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW1hZ2UtZWRpdC1mb3JtXCIpO1xyXG5jb25zdCBwZW5jaWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtcGVuY2lsXCIpO1xyXG5cclxuLy8gQ2FyZCBWYXJpYWJsZXNcclxuXHJcbmNvbnN0IGFkZENhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtbW9kYWxcIik7XHJcbmNvbnN0IGFkZENhcmRGb3JtID0gYWRkQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtZm9ybVwiKTtcclxuY29uc3QgY2FyZHNXcmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcclxuXHJcbi8vIFByZXZpZXcgSW1hZ2UgVmFyaWFibGVzXHJcblxyXG5jb25zdCBwcmV2aWV3TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3ByZXZpZXctbW9kYWxcIik7XHJcbmNvbnN0IG1vZGFsSW1hZ2UgPSBwcmV2aWV3TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XHJcblxyXG4vLyBCdXR0b25zXHJcblxyXG5jb25zdCBwcm9maWxlRWRpdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LWJ1dHRvblwiKTtcclxuY29uc3QgYWRkTmV3Q2FyZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtYnV0dG9uXCIpO1xyXG5cclxuLy8gQVBJJ1NcclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcIjI1MGRhZWVhLTBiNjMtNDhmOS1hNGIzLWU1MjkxMTY0MzNjNFwiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcblxyXG5hcGlcclxuICAuZ2V0SW5pdGlhbENhcmRzKClcclxuICAudGhlbigoY2FyZHMpID0+IHtcclxuICAgIG5ld0NhcmRTZWN0aW9uLnNldEl0ZW1zKGNhcmRzKTtcclxuICAgIG5ld0NhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKCk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgYWxlcnQoYCR7ZXJyfSBGYWlsZWQgdG8gZ2V0IGNhcmRzLmApO1xyXG4gIH0pO1xyXG5cclxuYXBpXHJcbiAgLmdldFVzZXJJbmZvKClcclxuICAudGhlbigoaW5mbykgPT4ge1xyXG4gICAgcHJvZmlsZVVzZXJJbmZvLnNldFVzZXJJbmZvKHtcclxuICAgICAgbmFtZTogaW5mby5uYW1lLFxyXG4gICAgICBkZXNjcmlwdGlvbjogaW5mby5hYm91dCxcclxuICAgIH0pO1xyXG4gICAgcHJvZmlsZVVzZXJJbmZvLnNldFVzZXJBdmF0YXIoaW5mby5hdmF0YXIpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGFsZXJ0KGAke2Vycn0gRmFpbGVkIHRvIGdldCB1c2VyIGluZm8uYCk7XHJcbiAgfSk7XHJcblxyXG4vLyBBUEkgRlVOQ1RJT05TXHJcblxyXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRWRpdFN1Ym1pdChkYXRhKSB7XHJcbiAgcHJvZmlsZUVkaXRGb3JtLnNldExvYWRpbmcodHJ1ZSk7XHJcbiAgYXBpXHJcbiAgICAudXBkYXRlVXNlckluZm8oZGF0YSlcclxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgcHJvZmlsZVVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xyXG4gICAgICBwcm9maWxlRWRpdEZvcm0uc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgYWxlcnQoYCR7ZXJyfSBGYWlsZWQgdG8gY2hhbmdlIHVzZXIgaW5mby5gKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVDYXJkU3VibWl0KHsgdGl0bGU6IG5hbWUsIHN1YnRpdGxlOiBsaW5rIH0pIHtcclxuICBhZGRJbWFnZUZvcm0uc2V0TG9hZGluZyh0cnVlKTtcclxuICBhcGlcclxuICAgIC5hZGRDYXJkKHsgbmFtZSwgbGluayB9KVxyXG4gICAgLnRoZW4oKGNhcmQpID0+IHtcclxuICAgICAgbmV3Q2FyZFNlY3Rpb24uYWRkSXRlbSh7IG5hbWUsIGxpbmsgfSk7XHJcbiAgICAgIGFkZEltYWdlRm9ybS5zZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgYWRkSW1hZ2VGb3JtLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgYWxlcnQoYCR7ZXJyfSBGYWlsZWQgdG8gYWRkIGNhcmQuYCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQXZhdGFyU3VibWl0KGlucHV0KSB7XHJcbiAgYXZhdGFyRWRpdEZvcm0uc2V0TG9hZGluZyh0cnVlKTtcclxuICBhcGlcclxuICAgIC5jaGFuZ2VBdmF0YXIoaW5wdXQubGluaylcclxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgcHJvZmlsZVVzZXJJbmZvLnNldFVzZXJBdmF0YXIocmVzdWx0LmF2YXRhcik7XHJcbiAgICAgIGF2YXRhckVkaXRGb3JtLnNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGFsZXJ0KGAke2Vycn0gRmFpbGVkIHRvIGNoYW5nZSBhdmF0YXIuYCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQWRkTGlrZShjYXJkKSB7XHJcbiAgaWYgKGNhcmQuaXNMaWtlZCkge1xyXG4gICAgcmV0dXJuIGFwaVxyXG4gICAgICAucmVtb3ZlTGlrZShjYXJkLl9pZClcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGNhcmQuaGFuZGxlTGlrZUljb24ocmVzLmlzTGlrZWQpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGFsZXJ0KGAke2Vycn0gRmFpbGVkIHRvIGFkZC9yZW1vdmUgbGlrZS5gKTtcclxuICAgICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBhcGlcclxuICAgICAgLnNldExpa2UoY2FyZC5faWQpXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBjYXJkLmhhbmRsZUxpa2VJY29uKHJlcy5pc0xpa2VkKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBhbGVydChgJHtlcnJ9IEZhaWxlZCB0byBhZGQvcmVtb3ZlIGxpa2UuYCk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuLy8gRlVOQ1RJT05TXHJcblxyXG5mdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKGNhcmQpIHtcclxuICBwcmV2aWV3SW1hZ2VQb3B1cC5vcGVuKGNhcmQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGNhcmREYXRhKSB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgY2FyZERhdGEsXHJcbiAgICBcIiNjYXJkLXRlbXBsYXRlXCIsXHJcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxyXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2ssXHJcbiAgICBoYW5kbGVBZGRMaWtlXHJcbiAgKTtcclxuICByZXR1cm4gY2FyZC5nZXRWaWV3KCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNsaWNrKGNhcmQpIHtcclxuICBjb25maXJtRGVsZXRlUG9wdXAub3BlbigpO1xyXG4gIGNvbmZpcm1EZWxldGVQb3B1cC5zZXRTdWJtaXRBY3Rpb24oKCkgPT4ge1xyXG4gICAgYXBpXHJcbiAgICAgIC5kZWxldGVDYXJkKGNhcmQuX2lkKVxyXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgY2FyZC5oYW5kbGVEZWxldGVDYXJkKHJlc3VsdCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgYWxlcnQoYCR7ZXJyfSBGYWlsZWQgdG8gZGVsZXRlIHBvc3QuYCk7XHJcbiAgICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vLyBFVkVOVCBMSVNURU5FUlNcclxuXHJcbmF2YXRhckltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgYXZhdGFyRWRpdEZvcm0ub3BlbigpO1xyXG59KTtcclxuXHJcbnBlbmNpbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGF2YXRhckVkaXRGb3JtLm9wZW4oKTtcclxufSk7XHJcblxyXG5hZGROZXdDYXJkQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgYWRkQ2FyZEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgYWRkSW1hZ2VGb3JtLm9wZW4oKTtcclxufSk7XHJcblxyXG5wcm9maWxlRWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IHsgbmFtZSwgZGVzY3JpcHRpb24gfSA9IHByb2ZpbGVVc2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIHByb2ZpbGVUaXRsZUlucHV0LnZhbHVlID0gbmFtZTtcclxuICBwcm9maWxlU3VidGl0bGVJbnB1dC52YWx1ZSA9IGRlc2NyaXB0aW9uO1xyXG4gIHByb2ZpbGVFZGl0Rm9ybS5vcGVuKCk7XHJcbn0pO1xyXG5cclxubW9kYWxJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHByZXZpZXdJbWFnZVBvcHVwLm9wZW4oKTtcclxufSk7XHJcblxyXG4vL0NMQVNTRVNcclxuXHJcbmNvbnN0IHByb2ZpbGVFZGl0SW1hZ2UgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGVkaXRJbWFnZUZvcm0pO1xyXG5wcm9maWxlRWRpdEltYWdlLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IGFkZENhcmRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBhZGRDYXJkRm9ybSk7XHJcbmFkZENhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IGVkaXRQcm9maWxlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgcHJvZmlsZUZvcm0pO1xyXG5lZGl0UHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgcHJvZmlsZUVkaXRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIsXHJcbiAgaGFuZGxlUHJvZmlsZUVkaXRTdWJtaXRcclxuKTtcclxucHJvZmlsZUVkaXRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBwcm9maWxlVXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gIHRpdGxlOiBcIi5wcm9maWxlX190aXRsZVwiLFxyXG4gIHN1YnRpdGxlOiBcIi5wcm9maWxlX19zdWJ0aXRsZVwiLFxyXG4gIGF2YXRhcjogXCIucHJvZmlsZV9faW1hZ2VcIixcclxufSk7XHJcblxyXG5jb25zdCBhZGRJbWFnZUZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNhZGQtY2FyZC1tb2RhbFwiLCBoYW5kbGVDYXJkU3VibWl0KTtcclxuYWRkSW1hZ2VGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBwcmV2aWV3SW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNwcmV2aWV3LW1vZGFsXCIpO1xyXG5wcmV2aWV3SW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgY29uZmlybURlbGV0ZVBvcHVwID0gbmV3IFBvcHVwQ29uZmlybShcIiNkZWxldGUtcG9wdXBcIik7XHJcbmNvbmZpcm1EZWxldGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgYXZhdGFyRWRpdEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBcIiNwcm9maWxlLWltYWdlLW1vZGFsXCIsXHJcbiAgaGFuZGxlQXZhdGFyU3VibWl0XHJcbik7XHJcbmF2YXRhckVkaXRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBhdmF0YXJFZGl0Rm9ybVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICBjb25maWcsXHJcbiAgcHJvZmlsZUVkaXRJbWFnZUZvcm1cclxuKTtcclxuYXZhdGFyRWRpdEZvcm1WYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IG5ld0NhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgaXRlbXM6IFtdLFxyXG4gICAgcmVuZGVyZXI6IGNyZWF0ZUNhcmQsXHJcbiAgfSxcclxuICBjYXJkc1dyYXBcclxuKTtcclxuXHJcbi8qIFRvLURvIExpc3Q6XHJcbi0gU1VCTUlUIEFORCBQUkFZIExPTCAqL1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrUmVzcG9uY2UocmVzKSB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrUmVzcG9uY2UocmVzKSk7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9jaGVja1Jlc3BvbmNlKHJlcykpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlVXNlckluZm8oeyBuYW1lLCBkZXNjcmlwdGlvbiB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBhYm91dDogZGVzY3JpcHRpb24sXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9jaGVja1Jlc3BvbmNlKHJlcykpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChpZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrUmVzcG9uY2UocmVzKSk7XHJcbiAgfVxyXG5cclxuICBhZGRDYXJkKHsgbmFtZSwgbGluayB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGxpbms6IGxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9jaGVja1Jlc3BvbmNlKHJlcykpO1xyXG4gIH1cclxuXHJcbiAgc2V0TGlrZShpZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrUmVzcG9uY2UocmVzKSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVMaWtlKGlkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tSZXNwb25jZShyZXMpKTtcclxuICB9XHJcblxyXG4gIGNoYW5nZUF2YXRhcih1cmwpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiB1cmwsXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9jaGVja1Jlc3BvbmNlKHJlcykpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyB0aXRsZSwgc3VidGl0bGUsIGF2YXRhciB9KSB7XHJcbiAgICB0aGlzLl90aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGl0bGUpO1xyXG4gICAgdGhpcy5fc3VidGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHN1YnRpdGxlKTtcclxuICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmFtZTogdGhpcy5fdGl0bGUudGV4dENvbnRlbnQsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLl9zdWJ0aXRsZS50ZXh0Q29udGVudCxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGRlc2NyaXB0aW9uIH0pIHtcclxuICAgIHRoaXMuX3RpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHRoaXMuX3N1YnRpdGxlLnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XHJcbiAgfVxyXG5cclxuICBzZXRVc2VyQXZhdGFyKGF2YXRhcikge1xyXG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IGF2YXRhcjtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3BXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gICAgdGhpcy5fbW9kYWxJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fcHJldmlld0NhcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jYXB0aW9uXCIpO1xyXG4gIH1cclxuXHJcbiAgb3Blbih7IG5hbWUsIGxpbmsgfSkge1xyXG4gICAgdGhpcy5fbW9kYWxJbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5fbW9kYWxJbWFnZS5hbHQgPSBuYW1lO1xyXG4gICAgdGhpcy5fcHJldmlld0NhcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwQ29uZmlybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XHJcbiAgICB0aGlzLl9pbWFnZUVkaXRGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbiAgfVxyXG5cclxuICBzZXRTdWJtaXRBY3Rpb24oaGFuZGxlcikge1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gaGFuZGxlcjtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICB0aGlzLl9pbWFnZUVkaXRGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXQoKTtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNzc1NlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGNzc1NlbGVjdG9yO1xyXG4gIH1cclxuXHJcbiAgc2V0SXRlbXMoaXRlbXMpIHtcclxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGRhdGEpID0+IHtcclxuICAgICAgdGhpcy5hZGRJdGVtKGRhdGEpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGFkZEl0ZW0oZGF0YSkge1xyXG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX3JlbmRlcmVyKGRhdGEpO1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJGb3JtVmFsaWRhdG9yIiwiY29uc3RydWN0b3IiLCJjb25maWciLCJmb3JtIiwidGhpcyIsIl9mb3JtIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2lucHV0RWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwic3VibWl0QnRuIiwicXVlcnlTZWxlY3RvciIsImZvckVhY2giLCJpbnB1dEVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfc2hvd0lucHV0RXJyb3IiLCJlcnJvck1lc3NhZ2VFbCIsImlkIiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsInJlbW92ZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaXNGb3JtVmFsaWQiLCJldmVyeSIsImRpc2FibGVkIiwiZW5hYmxlVmFsaWRhdGlvbiIsInJlc2V0VmFsaWRhdGlvbiIsIkNhcmQiLCJfcmVmIiwiY2FyZFRlbXBsYXRlIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwiaGFuZGxlQWRkTGlrZSIsIm5hbWUiLCJsaW5rIiwiX2lkIiwiaXNMaWtlZCIsIl9jYXJkVGVtcGxhdGUiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9oYW5kbGVEZWxldGVDbGljayIsIl9oYW5kbGVBZGRMaWtlIiwiX2xpa2VCdG4iLCJfY2FyZEVsZW1lbnQiLCJfY2FyZEltYWdlRWwiLCJoYW5kbGVMaWtlSWNvbiIsIl9yZW5kZXJMaWtlcyIsImhhbmRsZURlbGV0ZUNhcmQiLCJnZXRWaWV3IiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2NhcmRUaXRsZUVsIiwic3JjIiwiYWx0IiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIm9wZW4iLCJfaGFuZGxlRXNjQ2xvc2UiLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9wb3B1cEZvcm0iLCJfc3VibWl0QnRuIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJyZXNldCIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0cyIsImlucHV0VmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInNldExvYWRpbmciLCJsb2FkaW5nIiwicHJldmVudERlZmF1bHQiLCJmb3JtU2VsZWN0b3IiLCJwcm9maWxlVGl0bGVJbnB1dCIsInByb2ZpbGVTdWJ0aXRsZUlucHV0IiwicHJvZmlsZUZvcm0iLCJmb3JtcyIsImVkaXRJbWFnZUZvcm0iLCJhdmF0YXJJbWFnZSIsInByb2ZpbGVFZGl0SW1hZ2VGb3JtIiwicGVuY2lsIiwiYWRkQ2FyZEZvcm0iLCJjYXJkc1dyYXAiLCJtb2RhbEltYWdlIiwicHJvZmlsZUVkaXRCdG4iLCJhZGROZXdDYXJkQnRuIiwiYXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiX2NoZWNrUmVzcG9uY2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0SW5pdGlhbENhcmRzIiwiZmV0Y2giLCJtZXRob2QiLCJ0aGVuIiwiZ2V0VXNlckluZm8iLCJ1cGRhdGVVc2VySW5mbyIsIl9yZWYyIiwiZGVzY3JpcHRpb24iLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFib3V0IiwiZGVsZXRlQ2FyZCIsImFkZENhcmQiLCJfcmVmMyIsInNldExpa2UiLCJyZW1vdmVMaWtlIiwiY2hhbmdlQXZhdGFyIiwidXJsIiwiYXZhdGFyIiwiYXV0aG9yaXphdGlvbiIsImNhcmQiLCJjYXRjaCIsImVyciIsImFsZXJ0IiwicHJldmlld0ltYWdlUG9wdXAiLCJjb25maXJtRGVsZXRlUG9wdXAiLCJzZXRTdWJtaXRBY3Rpb24iLCJyZXN1bHQiLCJjYXJkcyIsIm5ld0NhcmRTZWN0aW9uIiwic2V0SXRlbXMiLCJyZW5kZXJJdGVtcyIsImluZm8iLCJwcm9maWxlVXNlckluZm8iLCJzZXRVc2VySW5mbyIsInNldFVzZXJBdmF0YXIiLCJhdmF0YXJFZGl0Rm9ybSIsImFkZENhcmRGb3JtVmFsaWRhdG9yIiwiYWRkSW1hZ2VGb3JtIiwicHJvZmlsZUVkaXRGb3JtIiwiZGF0YSIsInRpdGxlIiwic3VidGl0bGUiLCJfdGl0bGUiLCJfc3VidGl0bGUiLCJfYXZhdGFyIiwiYWRkSXRlbSIsIl9tb2RhbEltYWdlIiwiX3ByZXZpZXdDYXB0aW9uIiwiX2ltYWdlRWRpdEZvcm0iLCJoYW5kbGVyIiwiX2hhbmRsZVN1Ym1pdCIsImNzc1NlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJlbGVtZW50IiwicHJlcGVuZCIsImNhcmREYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==